#{extends 'main.html' /}

#{set title:'Show Me' /}

#{menu id:"showMe"/}

<section class="ui two column grid basic middle aligned segment">

  <div class="ui attached message">

    <div class="header">
      Update your profile!
    </div>
    <p>Review the account below</p><br><br>

  </div>


  <div class="column">

    <form class="ui stacked segment form" action="/editMe" method="POST">
      <h3 class="ui header">Manage your profile</h3>
      <div class="two fields">

        <div class="field">
          <label>First Name</label>
          <input placeholder="First Name" type="text" name="firstname" value="${person.firstname}">
        </div>
        <div class="field">
          <label>Last Name</label>
          <input placeholder="Last Name" type="text" name="lastname" value="${person.lastname}">
        </div>
      </div>
      <div class="field">
        <label>Email</label>
        <input placeholder="Email" type="text" name="email" value="${person.email}">
      </div>
      <div class="two fields">
        <div class="field">
          <label>Username</label>
          <input placeholder="Username" type="text" name="username" value="${person.username}">
        </div>
        <div class="field">
          <label>Password (TODO)</label>
          <input placeholder="Password" type="password" name="password">
        </div>
      </div>
      <div class="two fields">
        <div class="field">
          <label>Gender</label>
          <input placeholder="Gender" type="text" name="gender" value="${person.gender}">
        </div>
        <div class="field">
          <label>Date of Birth</label>
          <input placeholder="Date of Birth" type="text" name="dob" value="${person.dob}">
        </div>
      </div>
      <div class="two fields">
        <div class="field">
            <label>Address</label>
            <input type="address" type="text" name="address" value="${person.address}">
        </div>
      </div>
      <br><br>

      <div class="ui buttons">
        <button class="ui negative button">Cancel</button>    <!-- TODO Cancel should not POST -->
        <div class="or"></div>
        <button class="ui positive button">Save</button>
      </div>
    </form>
    <script>
        $('.ui.form')
            .form({
                fields: {
                    firstname: {
                        identifier: 'firstname',
                        rules: [
                            {
                                type   : 'empty',
                                prompt : 'Please enter your firstname'
                            }
                        ]
                    },
                    lastname: {
                        identifier: 'lastname',
                        rules: [
                            {
                                type   : 'empty',
                                prompt : 'Please enter your lastname'
                            }
                        ]
                    },
                    email: {
                        identifier: 'email',
                        rules: [
                            {
                                type   : 'empty',
                                prompt : 'Please enter a email'
                            }
                        ]
                    },
                    username: {
                        identifier: 'username',
                            rules: [
                            {
                                type   : 'empty',
                                prompt : 'Please enter a username'
                            }
                        ]
                    },
                    password: {
                        identifier: 'password',
                        rules: [
                            ,
                            {
                                type   : 'minLength[6]',
                                prompt : 'Your password must be at least {ruleValue} characters'
                            }
                        ]
                    },
                    gender: {
                        identifier: 'gender',
                            rules: [
                            {
                                type   : 'empty',
                                prompt : 'Please enter gender (M/F)'
                            }
                        ]
                    },
                    address: {
                        identifier: 'address',
                        rules: [
                            {
                                type   : 'empty',
                                prompt : 'Please enter address'
                            }
                        ]
                    },
                }
            })
        ;
    </script>
  </div>
</section>
